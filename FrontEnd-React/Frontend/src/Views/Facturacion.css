/* src/pages/Facturacion.css — versión compacta y responsive */

/* ================== */
/*    Variables       */
/* ================== */
:root{
  --brand-1:#003399;
  --brand-2:#0052cc;
  --bg-1:#eef3ff;
  --text-1:#001a33;

  --input-border:#6b7a99;
  --input-border-focus:#3451b2;
  --input-shadow-focus: rgba(52,81,178,.25);

  /* Tamaños compactos */
  --ctrl-font: .9rem;
  --ctrl-pad-y: .45rem;
  --ctrl-pad-x: .6rem;
  --icon-size: 36px;
  --icon-size-sm: 32px;

  /* Columnas tabla artículos (fluid con clamp) */
  --col-qty: clamp(56px, 7vw, 80px);
  --col-price: clamp(88px, 10vw, 116px);
  --col-rem: 42px;
  --col-actions: 48px;
}

/* ================== */
/*     Base App       */
/* ================== */
.fact-page{
  width:100vw;min-height:100vh;
  background:linear-gradient(180deg,#ffffff 0%,var(--bg-1) 100%);
  font-family:"Poppins",sans-serif;color:var(--text-1);
}
.fact-header{
  width:100%;padding:1.2rem 2rem;
  background:linear-gradient(270deg,var(--brand-1),var(--brand-2));
  color:#fff;display:flex;align-items:center;gap:1rem;
  position:sticky;top:0;z-index:100;box-shadow:0 4px 15px rgba(0,0,70,.2)
}
.fact-header .icon{font-size:2.3rem;color:#ffdddd}
.fact-header h1{margin:0;font-weight:700;font-size:1.9rem}
.fact-content{width:min(1200px,95%);margin:2rem auto;display:grid;gap:1.5rem}
.card{
  background:#fff;padding:1.2rem;border-radius:10px;
  box-shadow:0 4px 15px rgba(0,0,0,.08);
  border:1px solid #e3e9f5
}

/* ================== */
/*   Grid cabecera    */
/* ================== */
.grid-3{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap:.9rem;
}

/* ================== */
/*  Controles global  */
/* ================== */
.card select,
.card input[type="text"],
.card input[type="number"],
.card input[type="date"],
.picker-card input[type="text"],
.picker-card input[type="search"],
.picker-card input[type="number"],
.picker-card input[type="date"]{
  width:100%;
  padding: var(--ctrl-pad-y) var(--ctrl-pad-x);
  border-radius:.5rem;
  border:1px solid var(--input-border);
  background:#fff;
  margin-top:.2rem;
  font-size: var(--ctrl-font);
  color:inherit;
}
.card select:focus,
.card input:focus,
.picker-card input:focus{
  border-color:var(--input-border-focus);
  outline:none;
  box-shadow:0 0 0 3px var(--input-shadow-focus);
}

/* ================== */
/*   Items (tabla)    */
/* ================== */
.items-container{margin-top:.9rem}

.items-header,
.item-row{
  display:grid;
  grid-template-columns:
    1fr               /* Producto */
    var(--col-qty)    /* Cant */
    var(--col-price)  /* Precio */
    var(--col-rem)    /* Rem. */
    var(--col-actions);/* Acciones */
  gap:.5rem;
  align-items:center;
  text-align:center;
}

.items-header{
  font-weight:700;color:#003366;border-bottom:2px solid #d1d9e6;
  padding-bottom:.35rem;font-size:.9rem
}

/* Texto producto más compacto pero legible */
.item-row input[type="text"]{
  padding:.45rem .55rem;
  font-size:.9rem;
  border:1px solid var(--input-border);
  text-align:left; /* mejor lectura para nombres largos */
}

/* Cantidad / Precio aún más compactos */
.item-row input{text-align:center}
.qty-input{
  width:100%;
  padding:.35rem .4rem;
  font-size:.9rem;
  border-radius:.5rem;
  border:1px solid var(--input-border);
}
.price-input{
  width:100%;
  padding:.35rem .4rem;
  font-size:.9rem;
  border-radius:.5rem;
  border:1px solid var(--input-border);
}

/* Centrado rápido reutilizable */
.center{display:flex;align-items:center;justify-content:center}

/* Botones icono compactos */
button{cursor:pointer}
.icon-btn{
  width: var(--icon-size);
  height: var(--icon-size);
  display:inline-flex;align-items:center;justify-content:center;
  border-radius:.6rem;border:1px solid #bcd3ff;background:#eaf1ff;color:#003c8a;font-size:16px
}
.icon-btn:hover{background:#d9e7ff}

/* Botón eliminar (mismo tamaño de ícono) */
button.danger{
  background:#ffe5e5;color:#a40000;border:1px solid #ffb3b3;border-radius:.5rem;
  padding:0;width:var(--icon-size);height:var(--icon-size);display:inline-flex;align-items:center;justify-content:center
}
button.danger:hover{background:#ffcccc}

/* Botón "Agregar línea" */
.items-container > button{
  margin-top:.7rem;padding:.65rem 1rem;border:none;background:#0052cc;color:#fff;border-radius:.6rem;font-weight:600
}
.items-container > button:hover{background:#003c99}

/* ================== */
/*  Resumen/Acciones  */
/* ================== */
.resumen{display:flex;justify-content:flex-end}
.resumen .right{
  background:#fff;border-radius:.9rem;padding:1rem;box-shadow:0 2px 12px rgba(0,0,0,.06);
  border:1px solid #e3e9f5;width:280px
}
.resumen .row{display:flex;justify-content:space-between;padding:.35rem 0;font-size:1rem}
.actions{display:flex;gap:1rem;flex-wrap:wrap}
.actions button{padding:.7rem 1.1rem;font-weight:bold;border-radius:.6rem;border:none}
.actions .primary{background:#00a86b;color:#fff}.actions .primary:hover{background:#008c59}
.actions .ghost{background:#eaf1ff;border:1px solid #bcd3ff;color:#003c8a}

/* ================== */
/*      Modales       */
/* ================== */
.picker-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.55);
  display:flex;justify-content:center;align-items:center;z-index:9999
}
.picker-card{
  background:#fff;width:min(1000px,95%);padding:1.2rem;border-radius:12px;
  box-shadow:0 8px 30px rgba(0,0,0,.25);position:relative
}
.picker-card--rem{width:min(1120px,96%)}
.picker-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:.7rem}
.picker-title{font-size:1.2rem;font-weight:700;display:flex;gap:.6rem;align-items:center}
.picker-close{
  background:#111;color:#fff;border:none;width:34px;height:34px;border-radius:8px;font-size:16px
}

/* ================== */
/*  Remisión (tabla)  */
/* ================== */
.rem-modal{max-height:70vh;overflow:auto;display:flex;flex-direction:column;gap:.9rem;padding-right:.25rem}
.rem-block{background:#f7faff;border:1px solid #dde7fb;border-radius:10px}
.rem-block__head{
  display:flex;gap:1.1rem;flex-wrap:wrap;padding:.7rem 1rem;border-bottom:1px solid #e4ecff;font-size:.9rem
}
.rem-table{padding:.2rem 0 1rem 0}
.rem-head,.rem-row{display:grid;grid-template-columns:4fr .8fr 1.2fr 64px;align-items:center}
.rem-head{
  position:sticky;top:0;background:#f0f6ff;border-bottom:1px solid #dbe7ff;
  padding:.5rem 1rem;font-weight:700;color:#053a7a;z-index:1
}
.rem-body{display:flex;flex-direction:column}
.rem-row{padding:.5rem 1rem;border-bottom:1px dashed #e3ebfa;font-size:.95rem}
.rem-row:nth-child(odd){background:#ffffff}
.rem-row:nth-child(even){background:#fbfdff}
.rem-row:hover{background:#eef5ff}
.rem-col{display:flex;align-items:center}
.rem-col--product{gap:.35rem;overflow:hidden}
.rem-code{font-weight:600;white-space:nowrap}
.rem-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.rem-col--qty,.rem-col--price{justify-content:center}
.rem-col--action{justify-content:center}
.sel-btn{
  width:32px;height:32px;background:#25c26e;border:none;border-radius:8px;color:#fff;font-size:16px;
  display:inline-flex;align-items:center;justify-content:center
}
.sel-btn:hover{background:#19a95e}
.sel-btn.disabled{background:#cbd3dd}

/* ================== */
/*  DataTable helper  */
/* ================== */
.rdt_TableHead .rdt_TableHeadRow,
.rdt_TableBody .rdt_TableRow{align-items:center}
.rdt_TableHead .rdt_TableCol,
.rdt_TableBody .rdt_TableCell{
  display:flex;align-items:center;justify-content:center;
  text-align:center;
}
.num-right{display:block;width:100%;text-align:right}

/* ================== */
/*    Checkbox size   */
/* ================== */
.item-row input[type="checkbox"]{
  transform: scale(.9);
}

/* ================== */
/*    Breakpoints     */
/* ================== */

/* < 1200px: ligeramente más compacto */
@media (max-width:1200px){
  :root{
    --icon-size: 34px;
    --col-qty: clamp(52px, 7vw, 74px);
    --col-price: clamp(84px, 10vw, 108px);
  }
}

/* < 900px: inputs y botones aún más chicos */
@media (max-width:500px){
  :root{
    --icon-size: var(--icon-size-sm);
  }
  .items-header,.item-row{
    grid-template-columns:
      1fr
      clamp(52px, 12vw, 68px)
      clamp(80px, 18vw, 104px)
      40px
      48px;
  }
  .picker-card{width:96%}
}

/* < 600px: prioriza producto; controles muy compactos */
@media (max-width:400px){
  .items-header,.item-row{
    grid-template-columns:
      1fr
      clamp(48px, 16vw, 64px)
      clamp(74px, 26vw, 96px)
      38px
      46px;
    gap:.4rem;
  }
  .card{padding:1rem}
  .picker-title{font-size:1.05rem}
}
