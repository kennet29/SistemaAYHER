/* ===== CONTENEDOR GENERAL ===== */
.rem-container {
  width: 100vw;
  min-height: 100vh;
  padding: 20px 4vw;
  background: linear-gradient(180deg, #ffffff 0%, #eef3ff 100%);
  font-family: "Poppins", sans-serif;
  color: #0d2a52;
  box-sizing: border-box;
}

/* ===== TITULO ===== */
.rem-title {
  font-size: 2rem;
  font-weight: 800;
  color: #003399;
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 18px;
}

/* ===== CARD ===== */
.rem-card {
  background: #ffffff;
  padding: 18px 22px;
  border-radius: 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.10);
  margin-bottom: 24px;
  border: 1px solid rgba(0,0,0,0.10);
}

/* ===== GRID 2 ===== */
.rem-grid-2 {
  display: grid;
  grid-template-columns: 1fr 180px;
  gap: 12px;
  margin-bottom: 10px;
}

/* ===== INPUTS ===== */
.rem-input,
.rem-textarea,
.rem-product-input,
.rem-qty-input {
  width: 70%;
  padding: 6px 9px;
  border-radius: 6px;
  border: 1px solid #c7d4ef;
  background: #f9fbff;
  color: #003366;
  font-size: 0.85rem;
  outline: none;
  margin-bottom: 10px;
  transition: .2s;
  height: 36px;
}

.rem-textarea {
  height: auto;
  min-height: 70px;
  resize: vertical;
}

.rem-input:focus,
.rem-textarea:focus,
.rem-product-input:focus,
.rem-qty-input:focus {
  border-color: #0047b3;
  box-shadow: 0 0 3px rgba(0, 82, 204, 0.25);
}

/* ===== PRODUCT TABLE ROWS ===== */
.rem-head {
  display: grid;
  /* Producto | Cantidad | Precio | Subtotal | Acciones */
  grid-template-columns: 2.4fr 0.7fr 0.9fr 1fr 120px;
  gap: 8px;
  align-items: center;
  padding: 8px 12px;
  background: #eef5ff;
  border: 1px solid #e3ebfa;
  border-radius: 8px;
  font-weight: 700;
  font-size: .95rem;
}
/* Force header labels to stay on one row and exact columns */
.rem-head span { white-space: nowrap; }
.rem-head span:nth-child(1) { grid-column: 1; grid-row: 1; }
.rem-head span:nth-child(2) { grid-column: 2; grid-row: 1; }
.rem-head span:nth-child(3) { grid-column: 3; grid-row: 1; }
.rem-head span:nth-child(4) { grid-column: 4; grid-row: 1; }
.rem-head span:nth-child(5) { grid-column: 5; grid-row: 1; }

.rem-row {
  display: grid;
  grid-template-columns: 2.4fr 0.7fr 0.9fr 1fr 120px;
  gap: 8px;
  margin-bottom: 8px;
  padding: 8px 12px;
  align-items: center;
}

/* Allow items to shrink inside grid cells to avoid wrapping */
.rem-row > * { min-width: 0; }

.rem-qty-input {
  text-align: center;
  height: 34px;
}

/* Que los controles llenen su celda para alinear con encabezados */
.rem-row .rem-product-input,
.rem-row .rem-qty-input {
  width: 100%;
}

/* Compactar controles dentro de la fila */
.rem-row .rem-product-input,
.rem-row .rem-qty-input {
  height: 32px;
  font-size: 0.8rem;
  padding: 4px 8px;
}

/* Reducir aún más ancho visual de controles dentro de su celda */
.rem-row .rem-product-input { width: 100%; min-width: 140px; }
.rem-row .rem-qty-input { width: 100%; max-width: 90px; }
/* Compact delete button */
.rem-row .rem-delete-btn {
  width: auto;
  min-width: 88px;
  padding: 4px 8px;
  font-size: 0.82rem;
  line-height: 1.1;
  justify-self: center;
}

/* ====== Typeahead styles ====== */
.rem-typeahead { position: relative; }
.rem-suggestions {
  position: absolute;
  top: 34px; /* below input */
  left: 0;
  width: 100%;
  max-height: 260px;
  overflow-y: auto;
  background: #fff;
  border: 1px solid #c7d4ef;
  border-radius: 6px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  z-index: 1000;
}
.rem-suggestion-item {
  padding: 8px 10px;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.rem-suggestion-item:hover { background: #eef5ff; }
.rem-suggestion-title { color: #003366; font-weight: 600; font-size: 0.85rem; }
.rem-suggestion-meta { color: #0052cc; font-size: 0.78rem; margin-left: 10px; }

/* ===== Responsive tweaks ===== */
@media (max-width: 900px) {
  .rem-head { grid-template-columns: 2.2fr 0.6fr 0.85fr 0.9fr 120px; }
  .rem-row  { grid-template-columns: 2.2fr 0.6fr 0.85fr 0.9fr 120px; gap: 6px; }
  .rem-row .rem-qty-input { max-width: 72px; height: 30px; }
  .rem-row .rem-product-input { min-width: 120px; height: 30px; }
  .rem-suggestions { top: 32px; }
  .rem-suggestion-title { font-size: 0.8rem; }
  .rem-suggestion-meta { font-size: 0.72rem; }
}

@media (max-width: 640px) {
  .rem-head { grid-template-columns: 1.6fr 0.6fr 0.8fr 0.9fr 100px; font-size: 0.85rem; }
  .rem-row  { grid-template-columns: 1.6fr 0.6fr 0.8fr 0.9fr 100px; gap: 6px; }
  .rem-row .rem-qty-input { max-width: 64px; }
  .rem-row .rem-product-input { min-width: 100px; }
  .rem-row .rem-delete-btn { padding: 4px; font-size: 0.78rem; }
}

/* Celdas numéricas y encabezados alineados a la izquierda en grilla */
.rem-price-cell { display: flex; align-items: center; justify-content: flex-start; padding-right: 0; }
.num-right { display: inline-block; width: auto; text-align: left; }

/* Encabezados del grid alineados a la izquierda */
.rem-head span { text-align: left; justify-self: start; }

/* Centrar controles y botón en sus celdas (excepto el buscador de producto que debe ir a la izquierda) */
.rem-row .rem-delete-btn { justify-self: start; }
.rem-row .rem-product-input { margin-left: 0; margin-right: 0; }
.rem-row .rem-typeahead { justify-self: start; }
/* Alinear cantidad hacia la izquierda */
.rem-row .rem-qty-input { justify-self: start; }

/* Mostrar el stock en línea para no aumentar la altura de la fila */
.rem-row small {
  display: inline-block;
  margin-left: 8px;
  vertical-align: middle;
  white-space: nowrap;
}

/* ===== BOTONES ===== */
.rem-btn {
  border: none;
  cursor: pointer;
  font-weight: 700;
  border-radius: 6px;
  padding: 10px 18px;
  font-size: 0.9rem;
  transition: .2s;
}

/* Agregar */
.rem-add-btn {
  background: #004aad;
  color: #fff;
  margin-top: 6px;
  margin-right: 15px;
}
.rem-add-btn:hover { background: #003799; }

/* Guardar */
.rem-save-btn {
  background: #008c1a;
  color: #fff;
  padding: 11px 20px;
  box-shadow: 0 2px 6px rgba(0,128,0,0.25);
  margin-top: 14px;
}
.rem-save-btn:hover { background: #006a14; }

/* Eliminar fila */
.rem-delete-btn {
  background: #ffe2e2;
  color: #c30000;
  border: 1px solid #ffb3b3;
  padding: 6px;
  border-radius: 6px;
}
.rem-delete-btn:hover { background: #ffb3b3; }

/* ===== TABLA PENDIENTES ===== */
.rem-table {
  width: 100%;
  border-collapse: collapse;
  background: white;
  border-radius: 8px;
  overflow: hidden;
}

.rem-table th {
  background: #003399;
  color: white;
  padding: 10px;
  font-size: 0.9rem;
}

.rem-table td {
  padding: 10px;
  border-bottom: 1px solid #ddd;
}

/* Alineación por columna para tablas de detalle (Parte, Producto, Cant., Precios, Subtotales) */
.rem-table th:nth-child(1),
.rem-table td:nth-child(1),
.rem-table th:nth-child(2),
.rem-table td:nth-child(2) { text-align: left; }

.rem-table th:nth-child(3),
.rem-table td:nth-child(3) { text-align: center; }

.rem-table th:nth-child(4),
.rem-table td:nth-child(4),
.rem-table th:nth-child(5),
.rem-table td:nth-child(5),
.rem-table th:nth-child(6),
.rem-table td:nth-child(6),
.rem-table th:nth-child(7),
.rem-table td:nth-child(7) { text-align: right; }

/* Un poco de espacio para valores numéricos a la derecha */
.rem-table td:nth-child(4),
.rem-table td:nth-child(5),
.rem-table td:nth-child(6),
.rem-table td:nth-child(7) {
  padding-right: 14px;
}

/* Botones */
.rem-table-btn {
  padding: 6px 10px;
  font-size: 0.8rem;
  border-radius: 6px;
  font-weight: 600;
  margin-right: 5px;
}
.rem-table-btn:disabled { opacity: 0.55; cursor: not-allowed; }

/* Stock bajo o en cero en tablas */
.rem-stock-low { color: #c30000 !important; font-weight: 700; }

.rem-view-btn { background: #e6f0ff; color: #004aad; border: 1px solid #004aad; }
.rem-complete-btn { background: #e7ffe9; color: #008c1a; border: 1px solid #00a61e; }
.rem-cancel-btn { background: #ffecec; color: #c30000; border: 1px solid #ff7a7a; }

.rem-view-btn:hover { background: #cce0ff; }
.rem-complete-btn:hover { background: #caffd1; }
.rem-cancel-btn:hover { background: #ffb3b3; }

/* Responsive */
@media (max-width: 700px) {
  .rem-grid-2 { grid-template-columns: 1fr; }
}

/* ===== MODAL OVERLAY ===== */
.rem-modal{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  min-height: 100vh;
  background: rgba(0,0,0,.75);
  display: flex;
  align-items: flex-start;
  justify-content: center;
  z-index: 9999;
  overflow-y: auto;
  padding: 40px 20px;
  backdrop-filter: blur(2px);
}
.rem-modal-content{
  background: #fff;
  width: min(1000px, 96%);
  border-radius: 12px;
  padding: 20px 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,.5);
  max-height: none;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  position: relative;
  margin: auto;
}
.rem-close-btn{
  margin-top: 10px;
  background: #1f2937;
  color: #fff;
  border: none;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
}
.rem-close-btn:hover{ background:#111827; }

/* ===== EXTRA BUTTONS (History/Excel) ===== */
/* Toggle Histórico/Pendientes */
.rem-history-btn{
  background: #e6f0ff;
  color: #004aad;
  border: 1px solid #004aad;
  padding: 8px 12px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  margin-bottom: 22px; /* más separación del contenido/modal */
}
.rem-history-btn:hover{ background: #cce0ff; }

/* Botón Excel (detalle y tabla) */
.rem-excel-btn{
  background: #e7ffe9;
  color: #008c1a;
  border: 1px solid #00a61e;
  cursor: pointer;
}
.rem-excel-btn:hover{ background: #caffd1; }

/* ===== Compact product search width ===== */
/* Constrain the product search container and input so it doesn't span too wide */
.rem-typeahead { width: 100%; max-width: 380px; }
.rem-row .rem-product-input { max-width: 380px; }

@media (max-width: 900px) {
  .rem-typeahead { max-width: 320px; }
  .rem-row .rem-product-input { max-width: 320px; }
}

@media (max-width: 640px) {
  .rem-typeahead { max-width: 100%; }
  .rem-row .rem-product-input { max-width: 100%; }
}

/* ===== Align delete button under header ===== */
/* Make the delete button fill its grid cell to align with 'Acciones' header */
.rem-row .rem-delete-btn {
  width: auto;
  max-width: 96px;
  min-width: 0;
  box-sizing: border-box;
  margin: 0;
  text-align: center;
  justify-self: start;
}
@media (max-width: 640px) {
  .rem-row .rem-delete-btn { max-width: 80px; }
}

/* ===== DataTable headers (scoped) ===== */
/* Productos (editable) */
.rem-items-table .rdt_TableHeadRow { background: #ffffff; border-bottom: 2px solid #ffd6d6; }
.rem-items-table .rdt_TableCol { color: #c30000; font-weight: 700; white-space: nowrap; }
.rem-items-table .rdt_TableCol > div { justify-content: flex-start; text-align: left; }

/* Remisiones (pendientes/histórico) */
.rem-remisiones-table .rdt_TableHeadRow { background: #ffffff; border-bottom: 2px solid #ffd6d6; }
.rem-remisiones-table .rdt_TableCol { color: #c30000; font-weight: 700; white-space: nowrap; }

/* Detalle de remisión */
.rem-detalle-table .rdt_TableHeadRow { background: #ffffff; border-bottom: 2px solid #ffd6d6; }
.rem-detalle-table .rdt_TableCol { color: #c30000; font-weight: 700; white-space: nowrap; }

/* Pendientes (react-data-table-component) */
.rem-pendientes-table .rdt_TableHeadRow { background: #eef5ff; border-bottom: 2px solid #ffd6d6; }
.rem-pendientes-table .rdt_TableCol { color: #c30000; font-weight: 700; white-space: nowrap; }
.rem-pendientes-table .rdt_TableRow:hover { background: #f7fbff; }
.rem-pendientes-table .rdt_TableCell { padding-top: 10px; padding-bottom: 10px; }
